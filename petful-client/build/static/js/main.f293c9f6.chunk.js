(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{21:function(e,t,n){e.exports=n.p+"static/media/dog_cat.d2fa7aef.png"},24:function(e,t,n){e.exports=n(36)},25:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);n(25);var a=n(0),r=n.n(a),u=n(20),c=n.n(u),o=n(10),l=n(11),i=n(2),s=n(3),p=n(5),m=n(4),h=n(6),d=n(21),f=n.n(d),E=(n(30),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).onAdopt=function(){n.props.history.push("/PetInfo")},n.state={},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("h1",null,"Welcome to Petful!"),r.a.createElement("p",{className:"intro"},"This is an online animal shelter which allows you to adopt cats and dogs. ",r.a.createElement("br",null),'This is strictly based on "First in, First out". You can adopt a cat, a dog ',r.a.createElement("br",null),"or both, but you may only adopt the animal that came to the shelter first.",r.a.createElement("br",null),"You will be put into queues so you must wait for your turn."),r.a.createElement("img",{src:f.a})),r.a.createElement("button",{type:"click",className:"adopt-button",onClick:this.onAdopt},"Start Adoption Process"))}}]),t}(r.a.Component)),b="https://adopt-petful.herokuapp.com/api",y=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,"REACT_APP_API-BASE":"https://adopt-petful.herokuapp.com/api"}).REACT_APP_API_BASE,function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("li",null,r.a.createElement("h3",null,"Name: ",this.props.animal.name),r.a.createElement("ul",{className:"animal-info-ul"},r.a.createElement("li",null,"Age: ",this.props.animal.age),r.a.createElement("li",null,"Breed: ",this.props.animal.breed),r.a.createElement("li",null,"Gender: ",this.props.animal.gender),r.a.createElement("li",null,"Description: ",this.props.animal.description)),r.a.createElement("img",{src:this.props.animal.imageURL,alt:this.props.animal.name}),r.a.createElement("p",null,"My Story: ",this.props.animal.story))}}]),t}(r.a.Component)),j=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Dogs"),r.a.createElement("ul",null,this.props.dogs.map((function(e){return r.a.createElement(y,{key:e.name,animal:e})}))))}}]),t}(r.a.Component),O=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Cats"),r.a.createElement("ul",null,this.props.cats.map((function(e){return r.a.createElement(y,{key:e.name,animal:e})}))))}}]),t}(r.a.Component),v=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).fetchPETS=function(){return fetch("".concat(b,"/pets")).then((function(e){if(e.ok)return e.json()}))},n.onAdoptLine=function(){n.props.history.push("/PetsInLine")},n.state={dogs:[],cats:[]},n.componentDidMount=function(){n.fetchPETS().then((function(e){n.setState({dogs:e.dogs,cats:e.cats})}))},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"petInfoDiv"},r.a.createElement("h2",null,r.a.createElement(o.b,{to:"/"}," Home ")),r.a.createElement("header",null,r.a.createElement("h1",null,"Pets to Adopt")),r.a.createElement("main",null,r.a.createElement("button",{type:"click",className:"adoption-button",onClick:this.onAdoptLine},"Start Adopting"),r.a.createElement(j,{dogs:this.state.dogs}),r.a.createElement(O,{cats:this.state.cats})))}}]),t}(r.a.Component),g=n(17),C=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("li",null,r.a.createElement("h4",null," ",this.props.name," "))}}]),t}(r.a.Component),P=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"people-ul"},r.a.createElement("h3",null," People in Line "),r.a.createElement("ul",null,this.props.people.map((function(e){return r.a.createElement(C,{key:e,name:e})}))))}}]),t}(r.a.Component),A=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={currentDog:{},currentCat:{},currQueue:[],currUser:"",interval:"",enqueueInterval:"",peopleAfter:["Jim Reynor","Sarah Kerrigan","Tychus Findlay","Valerian Mengsk","Alexei Stukov"],hidden:!0,adopted:{name:""}},n.componentDidMount=function(){n.fetchNextPets().then((function(e){n.setState({currentDog:e[1],currentCat:e[0]})})),n.fetchPeopleInQueue().then((function(e){n.setState({currQueue:e})}))},n.fetchPeopleInQueue=function(){return fetch("".concat(b,"/people")).then((function(e){return e.json()}))},n.fetchNextPets=function(){return fetch("".concat(b,"/pets/next")).then((function(e){return e.json()}))},n.addUserToQueue=function(e){var t=e.target.name.value,a=JSON.stringify({name:t});return fetch("".concat(b,"/people"),{method:"POST",headers:{"Content-type":"application/json"},body:a}).then((function(e){return e.json()})).then((function(e){n.setState({currQueue:[].concat(Object(g.a)(n.state.currQueue),[e]),currUser:e})})).then(n.fetchPeopleInQueue)},n.enqueuePerson=function(e){var t=e,a=JSON.stringify({name:t});return fetch("".concat(b,"/people"),{method:"POST",headers:{"Content-type":"application/json"},body:a}).then((function(e){return e.json()})).then((function(e){n.setState({currQueue:[].concat(Object(g.a)(n.state.currQueue),[e]),currUser:e})})).then(n.fetchPeopleInQueue)},n.handleAdoptDog=function(){var e=n.state.currentDog;n.setState({adopted:e})},n.handleAdoptCat=function(){var e=n.state.currentCat;n.setState({adopted:e})},n.dequeuePerson=function(){return fetch("".concat(b,"/people"),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){n.fetchPeopleInQueue().then((function(e){n.setState({currQueue:e})}))}))},n.deleteCat=function(){return fetch("".concat(b,"/pets/cats"),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){n.fetchNextPets().then((function(e){n.setState({currentDog:e[1],currentCat:e[0]})}))}))},n.deleteDog=function(){return fetch("".concat(b,"/pets/dogs"),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){n.fetchNextPets().then((function(e){n.setState({currentDog:e[1],currentCat:e[0]})}))}))},n.enqueuePeopleAfter=function(){n.state.peopleAfter.length<=1&&clearInterval(n.state.enqueueInterval),n.enqueuePerson(n.state.peopleAfter[0]);var e=n.state.peopleAfter;e.shift(),n.setState({peopleAfter:e})},n.dequeuePersonAndPet=function(){if(n.state.currQueue[1]==n.state.currUser){clearInterval(n.state.interval);var e=setInterval(n.enqueuePeopleAfter,2e3);n.setState({enqueueInterval:e,hidden:!1})}100*Math.random()<50?(n.deleteDog(),n.dequeuePerson()):(n.deleteCat(),n.dequeuePerson())},n.dequeueTimer=function(){var e=setInterval(n.dequeuePersonAndPet,2e3);n.setState({interval:e})},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return this.state.hidden?r.a.createElement("div",{className:"petNext"},r.a.createElement("h2",null,r.a.createElement(o.b,{to:"/"}," Home ")),r.a.createElement("header",null,r.a.createElement("h1",null," Adopt a Pet ")),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.addUserToQueue(t),e.dequeueTimer()}},r.a.createElement("label",{htmlFor:"name"}," Add yourself to queue: "),r.a.createElement("input",{type:"text",name:"name",required:!0}),r.a.createElement("input",{type:"submit"})),r.a.createElement("main",null,r.a.createElement(P,{key:this.state.currQueue,people:this.state.currQueue}),r.a.createElement("ul",null,r.a.createElement(y,{key:this.state.currentDog.name,animal:this.state.currentDog}),r.a.createElement("button",{type:"delete",onClick:this.deleteDog,className:"hidden"}," Adopt this Dog! "),r.a.createElement("p",null,"Congratulations, you have adopted ",this.state.adopted.name),r.a.createElement(y,{key:this.state.currentCat.name,animal:this.state.currentCat}),r.a.createElement("button",{type:"delete",onClick:this.deleteCat,className:"hidden"}," Adopt this Cat! "),r.a.createElement("p",null,"Congratulations, you have adopted ",this.state.adopted.name)))):r.a.createElement("div",{className:"petNext"},r.a.createElement("h2",null,r.a.createElement(o.b,{to:"/"}," Home ")),r.a.createElement("header",null,r.a.createElement("h1",null," Adopt a Pet ")),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.addUserToQueue(t),e.dequeueTimer()}},r.a.createElement("label",{htmlFor:"name"}," Add yourself to queue: "),r.a.createElement("input",{type:"text",name:"name",required:!0}),r.a.createElement("input",{type:"submit"})),r.a.createElement("main",null,r.a.createElement(P,{key:this.state.currQueue,people:this.state.currQueue}),r.a.createElement("ul",null,r.a.createElement(y,{key:this.state.currentDog.name,animal:this.state.currentDog}),r.a.createElement("button",{type:"submit",onClick:function(t){t.preventDefault(),e.handleAdoptDog(),e.deleteDog(),e.dequeuePerson()},className:"notHidden"}," Adopt this Dog! "),r.a.createElement("p",null,"Congratulations, you have adopted ",this.state.adopted.name),r.a.createElement(y,{key:this.state.currentCat.name,animal:this.state.currentCat}),r.a.createElement("button",{type:"submit",onClick:function(t){t.preventDefault(),e.handleAdoptCat(),e.deleteCat(),e.dequeuePerson()},className:"notHidden"}," Adopt this Cat! "),r.a.createElement("p",null,"Congratulations, you have adopted ",this.state.adopted.name))))}}]),t}(r.a.Component),S=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(o.b,{to:"/"}," Home "),r.a.createElement("header",null,r.a.createElement("h1",null,"Pets Adopted")))}}]),t}(r.a.Component);var k=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(E,e)}}),r.a.createElement(l.a,{exact:!0,path:"/PetInfo",render:function(e){return r.a.createElement(v,e)}}),r.a.createElement(l.a,{exact:!0,path:"/PetsInLine",render:function(e){return r.a.createElement(A,e)}}),r.a.createElement(l.a,{exact:!0,path:"/PetsAdopted",render:function(e){return r.a.createElement(S,e)}}))))};c.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.f293c9f6.chunk.js.map